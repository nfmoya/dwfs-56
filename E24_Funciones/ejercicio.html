<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funciones</title>
</head>

<body>

    <script>
        /* Solicitar al visitante que ingrese su nombre de usuario.
        Almacenar el nombre de usuario ingresado el una funci칩n.
            Escenario 1: El nombre no est치 en la lista.
        Darle la bienvenida al nuevo usuario
        Escenario 2: El nombre de usuario existe.
        Dar un aviso al usuario que el nombre de usuario se encuentra en uso
        Utilizar una funci칩n con try / catch para realizar la validaci칩n. */

        let usuarios = ['Anto', 'Mike', 'Edu', 'Nacho', 'Andres'];
        var nombreUsuario = prompt("Ingrese nombre usuario");

        try {

            chequearUsuario(nombreUsuario);
            usuarios.push(nombreUsuario);
            alert('Bienvenido usuario: '+ nombreUsuario);
            console.log(usuarios);
            
        } catch (error) {
            alert(error);
        }
        
        function chequearUsuario(nombreUsuario) {
            if (!nombreUsuario) {
                throw new Error("Nombre usuario no debe ser vacio");
            }

            for (let i = 0; i < usuarios.length; i++) {
                if (usuarios[i] === nombreUsuario) {
                    throw new Error("El nombre de usuario se encuentra en uso");
                }
            }
        }

    </script>
</body>

</html>